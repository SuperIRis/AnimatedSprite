/*
	Animated Sprite - JS 
	by @SuperIRis
*/
var AnimatedSprite=function(a,b,c,d,e){this.spriteURL=a,this.div=b,this.orientation="horizontal"==c?c:"vertical",this.steps=d,this.currentStep=0,b.style.backgroundImage="url("+a+")",this.image=new Image,this.image.onLoad=this._onLoad,this.image.src=a,this.containerHeight=this.div.offsetHeight,this.containerWidth=this.div.offsetWidth,this.animationStarted=!1,this.settings={loop:!1,loopStartStep:0,loopEndStep:0,frameRate:40};for(var f in e)this.settings.hasOwnProperty(f)&&(this.settings[f]=e[f])};AnimatedSprite.prototype.start=function(){return this.image.complete?(this.animationStarted||(this.animationStarted=!0,(this.currentStep<this.steps||this.settings.loop)&&this._animateToEnd()),void 0):(this._onLoad=this.start,void 0)},AnimatedSprite.prototype.stop=function(a){this.meantToStop=!0,this.animationStarted=!1,this.restart=a?a:!1},AnimatedSprite.prototype.hoverIn=function(a){return this.image.complete?(this.animationStarted||(this.animationStarted=!0,clearInterval(this.mainInterval),this.stepToStopForward=!isNaN(a)&&a<this.steps?a:this.steps,this._animateToEnd()),void 0):(this._onLoad=this.hoverIn,void 0)},AnimatedSprite.prototype.hoverOut=function(a,b){return this.image.complete?(this.endAnimationStarted||(this.endAnimationStarted=!0,clearInterval(this.mainInterval),b=!isNaN(b)&&b>0&&b<=this.steps?b:0,this.stepToStopForward=this.steps,this.currentStep=!isNaN(a)&&a>0&&a<=this.steps?a:this.currentStep,this.currentStep<b?(console.log("current step < until"),this.forceReset=!0,this._animateToEnd()):this._animateToStart()),void 0):(this._onLoad=this.hoverOut,void 0)},AnimatedSprite.prototype._onLoad=function(){},AnimatedSprite.prototype._animateToEnd=function(){var a=this._moveForward.bind(this);this.mainInterval=setInterval(a,this.settings.frameRate)},AnimatedSprite.prototype._animateToStart=function(){var a=this._moveBackwards.bind(this);this.mainInterval=setInterval(a,this.settings.frameRate)},AnimatedSprite.prototype.reset=function(a){a=a?a:0,this.currentStep=a,this.animationStarted=!1,this.endAnimationStarted=!1,this.div.style.backgroundPosition="0 -"+this.containerHeight*this.currentStep+"px"},AnimatedSprite.prototype._moveBackwards=function(){this.div.style.backgroundPosition="vertical"==this.orientation?"0 -"+(this.containerHeight*this.currentStep-this.containerHeight)+"px":"-"+(this.containerWidth*this.currentStep-this.containerWidth)+"px"+" 0",(this.currentStep<=0||this.currentStep>=this.stepToStopBackwards)&&(clearInterval(this.mainInterval),this.reset(0)),this.currentStep--},AnimatedSprite.prototype._moveForward=function(){this.div.style.backgroundPosition="vertical"==this.orientation?"0 -"+this.containerHeight*this.currentStep+"px":"-"+this.containerWidth*this.currentStep+"px"+" 0",console.log("step to stop forward",this.currentStep,">=",this.stepToStopForward),this.meantToStop&&this.currentStep>=this.steps?(clearInterval(this.mainInterval),this.meantToStop=!1,this.restart&&(this.restart=!1,this.reset(0))):(this.currentStep>=this.stepToStopForward||this.settings.loop&&this.currentStep>=this.settings.loopEndStep&&!this.meantToStop)&&(clearInterval(this.mainInterval),this.settings.loop?(this.reset(this.settings.loopStartStep),this.start()):this.forceReset&&(this.forceReset=!1,this.reset())),this.currentStep++};